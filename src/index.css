@import "tailwindcss";

/*
 * PODCAST CLIPPER - CINEMATIC EDITOR
 * A dramatic, immersive aesthetic inspired by professional video editing
 * Deep violet-blacks, electric accents, glass surfaces, rich depth
 */

/* CSS Variables - these don't need layers */
@layer base {
  :root {
    /* ========================================
     * COLOR SYSTEM - Rich, not flat
     * ======================================== */

    /* Base - Deep purple-tinted blacks */
    --void: 260 30% 4%;
    --deep: 258 25% 7%;
    --surface: 256 20% 11%;
    --raised: 254 16% 15%;
    --elevated: 252 12% 19%;
    --float: 250 10% 24%;

    /* Text - Crisp hierarchy */
    --text: 0 0% 96%;
    --text-muted: 255 8% 70%;
    --text-subtle: 256 6% 52%;
    --text-ghost: 258 5% 36%;

    /* Electric accents */
    --cyan: 185 100% 50%;
    --cyan-glow: 185 100% 60%;
    --magenta: 325 100% 58%;
    --magenta-glow: 325 100% 68%;
    --violet: 270 80% 65%;

    /* Semantic */
    --success: 158 70% 48%;
    --warning: 38 95% 52%;
    --error: 0 80% 58%;

    /* Glass effects */
    --glass: 258 30% 8% / 0.75;
    --glass-border: 0 0% 100% / 0.08;
    --glass-shine: 0 0% 100% / 0.04;

    /* Legacy compatibility */
    --bg-base: var(--void);
    --bg-elevated: var(--surface);
    --bg-surface: var(--raised);
    --bg-hover: var(--elevated);
    --text-primary: var(--text);
    --text-secondary: var(--text-muted);
    --text-tertiary: var(--text-subtle);
    --text-disabled: var(--text-ghost);
    --border-subtle: var(--glass-border);
    --border-default: 0 0% 100% / 0.12;
    --border-strong: 0 0% 100% / 0.18;
    --primary: var(--cyan);
    --primary-foreground: 260 30% 4%;
    --secondary: var(--magenta);
    --accent: var(--violet);

    /* Typography */
    --font-display: 'Space Grotesk', system-ui, sans-serif;
    --font-body: 'DM Sans', system-ui, sans-serif;
    --font-mono: 'IBM Plex Mono', 'SF Mono', monospace;

    /* Spacing */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;
    --space-10: 40px;
    --space-12: 48px;
    --space-16: 64px;

    /* Radii */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 18px;
    --radius-xl: 28px;
    --radius-full: 9999px;

    /* Transitions */
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    --duration-fast: 150ms;
    --duration-base: 200ms;
    --duration-slow: 300ms;

    /* Type scale */
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
  }

  /* ========================================
   * GLOBAL STYLES - in base layer so utilities can override
   * ======================================== */

  * {
    box-sizing: border-box;
  }

  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    font-family: var(--font-body);
    background: hsl(var(--void));
    color: hsl(var(--text));
    line-height: 1.5;
    overflow: hidden;
  }

  /* DRAMATIC BACKGROUND - gradient mesh with colored orbs */
  #root {
    min-height: 100vh;
    position: relative;
    background:
      /* Large magenta orb - bottom left */
      radial-gradient(ellipse 70% 50% at 5% 95%, hsl(325 70% 12% / 0.6), transparent 50%),
      /* Cyan orb - top right */
      radial-gradient(ellipse 50% 40% at 95% 5%, hsl(185 60% 10% / 0.5), transparent 45%),
      /* Violet wash - center */
      radial-gradient(ellipse 80% 60% at 50% 50%, hsl(270 40% 8% / 0.4), transparent 60%),
      /* Base gradient */
      linear-gradient(165deg, hsl(260 30% 6%), hsl(258 25% 4%) 50%, hsl(255 20% 3%));
  }

  /* Noise texture overlay for richness */
  #root::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    opacity: 0.025;
    pointer-events: none;
    z-index: 0;
  }

  /* ========================================
   * TYPOGRAPHY
   * ======================================== */

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 600;
    letter-spacing: -0.025em;
    line-height: 1.2;
    color: hsl(var(--text));
  }

  h1 { font-size: 2rem; font-weight: 700; letter-spacing: -0.035em; }
  h2 { font-size: 1.5rem; }
  h3 { font-size: 1.125rem; }
}

/* Keyframes - these don't need to be in a layer */
@keyframes pulse-glow {
  0%, 100% {
    box-shadow:
      0 0 0 1px hsl(185 100% 50% / 0.2),
      0 0 20px hsl(185 100% 50% / 0.2),
      0 0 40px hsl(185 100% 50% / 0.08);
  }
  50% {
    box-shadow:
      0 0 0 1px hsl(185 100% 50% / 0.3),
      0 0 30px hsl(185 100% 50% / 0.35),
      0 0 60px hsl(185 100% 50% / 0.15);
  }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  from { opacity: 0; transform: translateY(-16px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.94); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes blurIn {
  from { opacity: 0; filter: blur(8px); transform: scale(0.97); }
  to { opacity: 1; filter: blur(0); transform: scale(1); }
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Component styles in @layer components so Tailwind utilities can override */
@layer components {
  /* ========================================
   * GLASS MORPHISM
   * ======================================== */

  .glass {
    background: hsl(var(--glass));
    backdrop-filter: blur(24px) saturate(180%);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    border: 1px solid hsl(var(--glass-border));
    box-shadow:
      0 0 0 1px hsl(var(--glass-shine)) inset,
      0 25px 50px -12px hsl(0 0% 0% / 0.5),
      0 8px 24px -8px hsl(0 0% 0% / 0.4);
  }

  .glass-subtle {
    background: hsl(260 25% 9% / 0.6);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid hsl(var(--glass-border));
  }

  /* ========================================
   * GLOW EFFECTS
   * ======================================== */

  .glow-cyan {
    box-shadow:
      0 0 0 1px hsl(185 100% 50% / 0.2),
      0 0 20px hsl(185 100% 50% / 0.25),
      0 0 45px hsl(185 100% 50% / 0.1);
  }

  .glow-magenta {
    box-shadow:
      0 0 0 1px hsl(325 100% 58% / 0.2),
      0 0 20px hsl(325 100% 58% / 0.25),
      0 0 45px hsl(325 100% 58% / 0.1);
  }

  .glow-pulse {
    animation: pulse-glow 2.5s ease-in-out infinite;
  }

  /* ========================================
   * ANIMATIONS
   * ======================================== */

  .animate-fadeIn { animation: fadeIn 200ms var(--ease-out) forwards; }
  .animate-fadeInUp { animation: slideUp 300ms var(--ease-out) forwards; }
  .animate-fadeInDown { animation: slideDown 300ms var(--ease-out) forwards; }
  .animate-scaleIn { animation: scaleIn 300ms var(--ease-spring) forwards; }
  .animate-blurIn { animation: blurIn 350ms var(--ease-out) forwards; }
  .animate-float { animation: float 3.5s ease-in-out infinite; }
  .animate-spin { animation: spin 1s linear infinite; }
  .animate-spin-slow { animation: spin 8s linear infinite; }

  /* Stagger children */
  .stagger > * {
    opacity: 0;
    animation: slideUp 300ms var(--ease-out) forwards;
  }
  .stagger > *:nth-child(1) { animation-delay: 0ms; }
  .stagger > *:nth-child(2) { animation-delay: 60ms; }
  .stagger > *:nth-child(3) { animation-delay: 120ms; }
  .stagger > *:nth-child(4) { animation-delay: 180ms; }
  .stagger > *:nth-child(5) { animation-delay: 240ms; }
  .stagger > *:nth-child(6) { animation-delay: 300ms; }
  .stagger > *:nth-child(7) { animation-delay: 360ms; }
  .stagger > *:nth-child(8) { animation-delay: 420ms; }

  /* ========================================
   * SCROLLBAR
   * ======================================== */

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  /* ========================================
   * UTILITY CLASSES
   * ======================================== */

  /* Gradient text */
  .gradient-text {
    background: linear-gradient(135deg, hsl(var(--cyan)), hsl(var(--magenta)));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Gradient border */
  .gradient-border {
    position: relative;
    background: hsl(var(--surface));
    border-radius: var(--radius-lg);
  }

  .gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(135deg, hsl(var(--cyan) / 0.6), hsl(var(--magenta) / 0.4));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  /* Interactive hover */
  .interactive {
    transition: all var(--duration-fast) var(--ease-out);
  }

  .interactive:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 28px -8px hsl(0 0% 0% / 0.4);
  }

  .interactive:active {
    transform: translateY(0);
  }

  /* Shimmer loading */
  .shimmer {
    position: relative;
    overflow: hidden;
  }

  .shimmer::after {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, hsl(0 0% 100% / 0.06), transparent);
    animation: shimmer 2s infinite;
  }

  /* Status indicators */
  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: var(--radius-full);
  }

  .status-dot.active {
    background: hsl(var(--success));
    box-shadow: 0 0 8px hsl(var(--success) / 0.5);
  }

  .status-dot.warning {
    background: hsl(var(--warning));
    box-shadow: 0 0 8px hsl(var(--warning) / 0.5);
  }

  .status-dot.error {
    background: hsl(var(--error));
    box-shadow: 0 0 8px hsl(var(--error) / 0.5);
  }

  /* Badge */
  .badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 5px 12px;
    font-size: 11px;
    font-weight: 600;
    font-family: var(--font-mono);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    border-radius: var(--radius-full);
    background: hsl(var(--surface));
    color: hsl(var(--text-muted));
    border: 1px solid hsl(var(--glass-border));
  }

  .badge.cyan {
    background: hsl(185 80% 15% / 0.5);
    color: hsl(var(--cyan));
    border-color: hsl(var(--cyan) / 0.3);
  }

  .badge.magenta {
    background: hsl(325 70% 15% / 0.5);
    color: hsl(var(--magenta));
    border-color: hsl(var(--magenta) / 0.3);
  }

  .badge.success {
    background: hsl(158 50% 15% / 0.5);
    color: hsl(var(--success));
    border-color: hsl(var(--success) / 0.3);
  }

  /* Divider */
  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, hsl(var(--glass-border)), transparent);
  }

  /* Line clamp */
  .line-clamp-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
  .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
  .line-clamp-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
}

/* Scrollbar and selection styles need to be outside layers for pseudo-element targeting */
@layer base {
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  ::-webkit-scrollbar-track {
    background: hsl(var(--deep));
  }

  ::-webkit-scrollbar-thumb {
    background: hsl(var(--elevated));
    border-radius: var(--radius-full);
    border: 2px solid hsl(var(--deep));
  }

  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--float));
  }

  ::selection {
    background: hsl(var(--cyan) / 0.3);
    color: hsl(var(--text));
  }

  :focus-visible {
    outline: 2px solid hsl(var(--cyan));
    outline-offset: 2px;
  }
}
